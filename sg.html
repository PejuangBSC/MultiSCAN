<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOLANA TOKEN CHECKER</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.7.0/css/uikit.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.7.0/js/uikit.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>

   

    <link rel="icon" href="https://iconape.com/wp-content/files/oa/207892/svg/gate-io-seeklogo.com.svg" type="image/x-icon">

</head>
<style>
       #scanprogress {
          font-size: 16px;
          color: #0b0808;
        }
        #scanbar {
          text-align: center;
          width:100%;
          height:21px;
          border:1px solid #000;
          margin:5px 0px;
        }
        #bar {
          width:100%;
          background-color:#0ee375;
          height:100%;
        }
        a{
            color:black;
        }
        a:hover{
            color:purple;
        }

       .orange {
        color:  black;
        background-color:rgb(244, 208, 131);
      }

      .ijo {
        color: black;
        background-color:rgb(213, 246, 213);
      }

      .merah{
        color:  black;
        background-color:#f2d3d3;
      }
      .error{
        color: white;
        background-color:#eb1f1f;
      }

      .uk-table th{
            font-weight: bold;
            font-size: large;
            text-align: center;
            color: black;
        }
        /* Menambahkan gaya khusus jika diperlukan */
        .custom-thead {
            position: sticky;
            top: 0;
            background-color: #63f16f; /* Set the desired background color */
            z-index: 1;
        }

        .custom-thead2 {
            position: sticky;
            top: 5%;
            z-index: 1;
        }

        .uk-container {
            width: 96%;
            max-width: none;
        }
        .table-body td {
            font-size: 12px; /* Adjust the font size as needed */
        }
    </style>
<body>
    <hr/>
    <h2 id="hasil" style="color:red; margin:0px 0px; text-align: center;"><span id="open-modal2">SOLANA</span> <span id="open-modal">CHECKER</span> PRICE v3.3</h2> 

    <!-- Modal UIKIT -->
    <div id="my-modal" class="uk-modal-full" uk-modal>
        <div class="uk-modal-dialog">
            <button class="uk-modal-close-full uk-close-large" type="button" uk-close></button>
            <div class="uk-modal-header">
                <h2 class="uk-modal-title">:: SETTING DEX CHECKER</h2>
               
            </div>
            <div class="uk-modal-body">
                <form>
                    <label for="modal-kiri">Modal Kiri:</label>
                    <input type="text" id="modal-kiri" class="uk-input" value="200">

                    <label for="modal-kanan">Modal Kanan:</label>
                    <input type="text" id="modal-kanan" class="uk-input" value="150">

                    <label for="jeda-time">Jeda Time:</label>
                    <input type="text" id="jeda-time" value="850" class="uk-input">
                    
                    <label for="pnl">PNL:</label>
                    <input type="text" id="pnl" value="1.5" class="uk-input">

                    <label for="pnl">NICK NAME:</label>
                    <input type="text" id="user"  class="uk-input" required>
                    <br/>
                    <span>
                        <label for="sc-address">SC Address:</label>
                        <input type="text" id="sc-addresspair" value="Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB" class="uk-input">
    
                        <label for="des-pair">Des Pair:</label>
                        <input type="text" id="des-pair" value="6" class="uk-input">
    
                        <label for="symbo-pair">Symbo Pair:</label>
                        <input type="text" id="symbo-pair" value="USDT" class="uk-input">
                    </span>
                    <br/> <li>SOL : So11111111111111111111111111111111111111112 # 9</li>
                    <li>USDC : EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v # 6</li>
                    <li>USDT : Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB # 6</li>
                     <br/>
                    <button type="button" id="save-button" class="uk-button uk-button-primary">SAVE</button>
                </form>
            </div>
        </div>
    </div>

        <!-- Modal UIKIT -->
        <div id="my-modal2" class="uk-modal-full" uk-modal>
            <div class="uk-modal-dialog">
                <button class="uk-modal-close-full uk-close-large" type="button" uk-close></button>
                <div class="uk-modal-header">
                    <h2 class="uk-modal-title">:: SETTING MODAL</h2>
                   
                </div>
                <div class="uk-modal-body">
                    <form>                      
                        <label for="modal-kiri">API GATE:</label>
                        <input type="text" id="apiGate" class="uk-input" value="">
    
                        <label for="modal-kanan">SECRET GATE:</label>
                        <input type="text" id="secretGate" class="uk-input" value="">
    
                        <label for="modal-kiri">WALLET SOL:</label>
                        <input type="text" id="walletSOL" class="uk-input" value="">
    
                        <label for="modal-kanan">MODAL AWAL - USDT:</label>
                        <input type="number" id="modalAwal" class="uk-input" value="">

                        <label for="modal-kanan">MODAL AWAL - SOLANA:</label>
                        <input type="number" id="modalSol" class="uk-input" value="">
                      <br/> <br/>
                        <button type="button" id="saveModal" class="uk-button uk-button-primary">SAVE</button>
                    </form>
                </div>
            </div>
        </div>
<!-- Button untuk memulai SCAN -->

<div class="uk-container uk-margin-top">
    <form>
      <div class="uk-margin">
        <div class="uk-grid-small uk-child-width-1-6" uk-grid>
            <div>
                <label class="uk-form-label" > AWAL : </label>
                <span class="uk-label uk-label-primary" id="LmodalAwal">?</span>$ | 
                <span class="uk-label uk-label-warning" id="LmodalSol">?</span>SOL
            </div>
            <div>
                <label class="uk-form-label" >GATE : </label>
                <label class="uk-label uk-label-warning" id="LCEXUSDT" >?</label>
            </div>
            <div>
                <label class="uk-form-label" >PHANTOM : </label>
                <label class="uk-label uk-label-warning" id="LDEXUSDT" >?</label>
            </div>
            <div>
                <label class="uk-form-label" >TOTAL : </label>
                <span class="uk-label uk-label-success" id="LtotalUSDT">?</span>
              </div>

              <div>
                <div class="uk-button-group">
                  <!-- <button class="uk-button uk-button-danger" style="display: none;" id="resetmodal">RESET</button>
                  <button class="uk-button uk-button-secondary" id="calculateButton" >CEK ASET</button> -->
               
                <button class="uk-button-small uk-button-danger" type="button" style="display: none;" id="resetmodal" >RESET</button>
                <button class="uk-button-small uk-button-secondary" type="button" id="calculateButton" >CEK ASET</button>
              </div>
            </div>
              <div> 
                <div style="display: none;">
                    <label class="uk-form-label" >BEFORE: </label>
                    <span class="uk-label uk-label-primary" id="LpnlBefore">?</span>
                </div>
                <div>
                    <label class="uk-form-label" >PNL: </label>
                    <label class="uk-label uk-label-primary" id="Lpnl" for="">xxx</label>
                </div>                 
              </div>
              
          </div>
          <hr/>
        <div class="uk-grid-small uk-child-width-1-6" uk-grid>
          <div>
            <label class="uk-label uk-label-danger" for="mkiri">MODAL KIRI</label>
            <div class="uk-margin uk-form-controls">
              <input class="uk-input" type="number" id="mkiri" name="input1" >
            </div>
          </div>
          <div>
            <label class="uk-label uk-label-danger" for="mkanan">MODAL KANAN</label>
            <div class="uk-margin uk-form-controls">
              <input class="uk-input" type="number" id="mkanan" name="input1" >
            </div>
          </div>
          <div>
            <label class="uk-label uk-label-warning" for="mkanan">JEDA</label>
            <div class="uk-margin uk-form-controls">
              <input class="uk-input" type="number" id="mjeda" name="input1"   >
            </div>
          </div>
          <div>
            <label class="uk-label uk-label-primary" for="mkanan">PNL</label>
            <div class="uk-margin uk-form-controls">
              <input class="uk-input" type="number" step="0.01" id="mpnl" name="input1" >
            </div>
          </div>
          <div>
            <label class="uk-label uk-label-warning" >  </label> 
            <div class="uk-margin uk-form-controls"> 
              <button class="uk-button uk-button-danger" id="refresh">STOP</button>
              <label><input class="uk-checkbox" checked type="checkbox" id="GATE" style="display: none;">  </label>
            </div>
          </div>
          <div>
            NICKNAME : <label class="uk-label uk-label-success" id="nickname">????</label>
            <div class="uk-margin uk-form-controls">
              &nbsp;<input type="checkbox" class="uk-checkbox"  id="Cautorun" /> <span class="uk-form-label uk-text-danger uk-text-small" id="autorun"> AUTORUN</span>
              <button class="uk-button uk-button-secondary uk-margin-left uk-flex-last" type="button" id="startSCAN">START</button>
            </div>
          </div>
        </div>

      </div>
  
      <div class="uk-margin ">
        <div class="uk-margin uk-flex-right uk-form-controls" >
          <!-- <div id="scanprogress">Wait</div> 
          <div id="scanbar">
              <div id="bar" style="text-align: center;"> </div>
          </div> -->
             <!-- <label><input class="uk-checkbox" checked type="checkbox" id="GATE"> GATE </label>
            <label><input class="uk-checkbox" type="checkbox"  id="MEXC"> MEXC</label>  -->
             <!-- <button class="uk-button uk-button-danger" id="refresh">REFRESH</button>

          <button class="uk-button uk-button-primary uk-margin-left uk-flex-last" type="button" id="startSCAN">START SCAN</button> -->
        </div>
        
      </div>
  
    </form>
  </div>

   <!-- TABEL HASIL SCANNER -->
    <div class="uk-container uk-flex uk-flex-center uk-flex-middle">
        <table class="uk-table  uk-table-striped uk-sticky">
            <thead class="custom-thead uk-overflow-auto">
                <tr>
                    <th>No</th>           
                    <th>Vol BUY </th>
                    <th> BUY (<span id="Lmodalkiri"></span>$)</th>
                    <th> SELL</th>
                    <th> TOKEN </th>
                    <th> BUY (<span id="Lmodalkanan"></span>$)</th>
                    <th> SELL</th>
                    <th> VOL SELL</th>
                </tr>
            </thead>

             <tr id="Gate" class="custom-thead2">
                <th colspan="8" style="background-color: #ef5a81; color: white;">
                  GATE # PRICE RATE <label class="uk-label uk-label-warning" id="LRate" >  </label> ~ <label class="uk-label uk-label-success" id="LPriceRate" >  </label>
                   { SINYAL KIRI : <span class="uk-badge" id="lKiriGATESinyal"></span> | SINYAL KANAN : <span class="uk-badge" id="lKananGATESinyal"></span> }
                </th>         
            </tr> 

            <tbody id="TabelGate" style="text-align: center;"></tbody>

 
        </table>
    </div>    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"
      integrity="sha512-E8QSvWZ0eCLGk4km3hxSsNmGWbLtSCSUcewDQPQWZF6pEU8GlT8a5fF32wOl1i8ftdMhssTrF/OhyGWwonTcXA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
<script>
$(document).ready(function () {

  var serverUrls = [
        "https://1.iiknrbtxoz.workers.dev/?",
        "https://2.5iz3h20guj.workers.dev/?",
        "https://3.g5l3krmasa-bda.workers.dev/?",
        "https://4.7gggrv7tyo.workers.dev/?",
        "https://5.1mynz671ti.workers.dev/?",
        "https://6.6dn6rtqjng.workers.dev/?",
        "https://7.zk3dvkv4pp.workers.dev/?",
        "https://8.c58qvb11ew.workers.dev/?",
        "https://9.n9zkqpbdpb.workers.dev/?",
        "https://10.tximoyq5se.workers.dev/?",
        "https://server1.ciwayeh967.workers.dev/?",
        "https://yazid3.yazidcrypto7.workers.dev/?",
        "https://yazid5.bustomi.workers.dev/?",
        "https://yazid4.yazidcrypto3.workers.dev/?",
        "https://yoeazd2.yoeaz2324.workers.dev/?",
        "https://server6.hejij49077.workers.dev/?",
        "https://server7.gejac16482.workers.dev/?",
        "https://server8.xotolo5853.workers.dev/?",
        "https://server9.dopacer193.workers.dev/?",
        "https://server10.samoker104.workers.dev/?",

        "https://worker-floral-river-e85c.tenimik318.workers.dev/?",
        "https://worker-royal-sound-0576.koban78574.workers.dev/?",
        "https://worker-curly-credit-2c73.viyeva7164.workers.dev/?",
        "https://worker-royal-haze-a135.lisolo3133.workers.dev/?",
        "https://worker-shy-cloud-27ca.vanogo6423.workers.dev/?",
        "https://worker-withered-sky-ed3e.vifeci7919.workers.dev/?",
        "https://worker-sweet-sound-e261.jaxet60213.workers.dev/?",
        "https://worker-shiny-sun-08f7.xabenic669.workers.dev/?",
        "https://worker-frosty-darkness-4f91.lobowev486.workers.dev/?",
        "https://worker-silent-boat-3c2e.celov42704.workers.dev/?",
        "https://server11.jiser33752.workers.dev/?",
        "https://server12.yitijex843.workers.dev/?",
        "https://server13.lovah68689.workers.dev/?",
        "https://server14.setopit195.workers.dev/?",
        "https://server15.povaf41444.workers.dev/?",
        "https://server16.niromaf426.workers.dev/?",
        "https://server17.kasoda9624.workers.dev/?",
        "https://server18.befim19137.workers.dev/?",
        "https://server19.gafigaf751.workers.dev/?",
        "https://server20.gayomep515.workers.dev/?",

        "https://server21.becibov328.workers.dev/?",
        "https://server22.togid93865.workers.dev/?",
        "https://server24.yaleve6056.workers.dev/?",
        "https://server23.bagotof270.workers.dev/?",
        "https://new1.gisot33558.workers.dev/?",
        "https://new2.sober27867.workers.dev/?",
        "https://new3.micipiy438.workers.dev/?",
        "https://new3.rayepar467.workers.dev/?",
        "https://new4.xebidi4752.workers.dev/?",
        "https://new5.cibiyec145.workers.dev/?",
        "https://new5.nafeyis928.workers.dev/?",
        "https://worker-broad-tree-49bb.cekah58754.workers.dev/?",
        "https://worker-ancient-hill-fad1.xejab72348.workers.dev/?",
        "https://cors.gemul-putra.workers.dev/?",
        "https://worker-damp-glitter-db50.gameco3780.workers.dev/?",
        "https://worker-blue-hall-1d14.xinevo2786.workers.dev/?",
        "https://worker-tiny-dust-22f2.capaji8287.workers.dev/?",
        "https://worker-old-disk-8a9a.kehaxa7686.workers.dev/?",
        "https://worker-yellow-wood-677d.lanafi2429.workers.dev/?",
        "https://worker-cool-tree-07c7.kifira7062.workers.dev/?",

        "https://hello-world-broken-hill-2492.yoeazd.workers.dev/?",
        "https://proxykiri.awokawok.workers.dev/?",
        "https://proxykanan.awokawok.workers.dev/?",
        "https://myserver1.nehavef167.workers.dev/?",
        "https://server2.holabaj699.workers.dev/?",
        "https://myserver3.ceteg74201.workers.dev/?",
        "https://myserver4.lamowa2709.workers.dev/?",
        "https://myserver5.mohafe9330.workers.dev/?",
        "https://myserver6.bafayi9378.workers.dev/?",
        "https://myserver7.yiwaj21571.workers.dev/?",
        "https://worker-winter-sound-52bd.pedig30998.workers.dev/?",
        "https://worker-super-lake-198e.kevaraj359.workers.dev/?",
        "https://worker-soft-dawn-b769.robiho8355.workers.dev/?",
        "https://worker-weathered-forest-2a2e.fiwala7986.workers.dev/?",
        "https://worker-still-tooth-553b.sewis68418.workers.dev/?",
        "https://worker-solitary-waterfall-f039.fomev71287.workers.dev/?",
        "https://server4.dajom23364.workers.dev/?",
        "https://server3.hopevap663.workers.dev/?",
        "https://worker-blue-mountain-bee9.hibes27870.workers.dev/?",
        "https://worker-still-morning-642c.kehoc99044.workers.dev/?",


        "https://worker-young-bush-ce2e.micejiy771.workers.dev/?",
        "https://worker-sparkling-silence-9d41.federi4672.workers.dev/?",
        "https://worker-polished-cloud-77bd.renel72768.workers.dev/?",
        "https://worker-sweet-darkness-d1c0.risiv74771.workers.dev/?",
        "https://worker-jolly-wildflower-c305.kacito9688.workers.dev/?",
        "https://worker-dawn-king-f162.kekam96808.workers.dev/?",
        "https://worker-shrill-bonus-9ca6.wipihoh336.workers.dev/?",
        "https://worker-tiny-bar-013f.gicot48223.workers.dev/?",
        "https://worker-tight-violet-dbda.xemojos811.workers.dev/?",
        "https://worker-tight-lab-9cc4.fetec22957.workers.dev/?",
        "https://worker-round-star-6bf9.yalayo9082.workers.dev/?",
        "https://worker-cool-dream-e973.gocon75635.workers.dev/?",
        "https://worker-bold-meadow-ab0a.xaraho1024.workers.dev/?",
        "https://worker-cool-truth-c06e.nomege1872.workers.dev/?",
        "https://worker-frosty-star-71a8.cesaxem416.workers.dev/?",
        "https://worker-sweet-dust-96ef.payat56154.workers.dev/?",
        "https://worker-plain-shape-e4c4.dilexid433.workers.dev/?",
        "https://worker-weathered-bar-d4fa.dadiyo8115.workers.dev/?",

    ];

        // Randomly select a server URL
    var randomServerUrl = serverUrls[Math.floor(Math.random() * serverUrls.length)];
      // Initial visibility settings
      updateVisibility();

      // Checkbox change event
      $('.uk-checkbox').change(function () {
          updateVisibility();
         // alert("xxxx");
      });

      function updateVisibility() {
          // GATE checkbox
          if ($('#GATE').prop('checked')) {
              $('tr#Gate').show();
              $('TabelGate').show();
          } else {
              $('tr#Gate').hide();
              $('TabelGate').hide();
          }

      }
    //SETTING GLOBAL
        var modalKiri = localStorage.getItem("SGX_modalKiri");
        var modalKanan = localStorage.getItem("SGX_modalKanan");
        var jedaTime = localStorage.getItem("SGX_jedaTime");
        var scAddressPair = localStorage.getItem("SGX_scAddressPair");
        var desPair = localStorage.getItem("SGX_desPair");
        var symboPair = localStorage.getItem("SGX_symboPair");
        var pnl = localStorage.getItem("SGX_pnl");
        var user = localStorage.getItem("SGX_user");

        var apiGate = localStorage.getItem("SGX_apiGate");
        var secretGate = localStorage.getItem("SGX_secretGate");
        var walletSOL = localStorage.getItem("SGX_walletSOL");
        var modalAwal = localStorage.getItem("SGX_modalAwal");
        var modalSol = localStorage.getItem("SGX_modalSol");

        $('#apiGate').val(apiGate || '');
        $('#secretGate').val(secretGate || '');
        $('#walletSOL').val(walletSOL || '');
        $('#user').val(user || '');
        $('#modalAwal').val(modalAwal || '');
        $('#LmodalSol').text(modalSol || '');
        $('#nickname').text(user || '');

        $('#Lmodalkiri').text(modalKiri || '');
        $('#Lmodalkanan').text(modalKanan || '');

        $("#mkiri, #mkanan, #mjeda, #mpnl").on("change", function () {
          localStorage.setItem("SGX_modalKiri", $("#mkiri").val());
          localStorage.setItem("SGX_modalKanan", $("#mkanan").val());
          localStorage.setItem("SGX_jedaTime", $("#mjeda").val());
          localStorage.setItem("SGX_pnl", $("#mpnl").val());
          location.reload();
        });

        if(!user){
          toastr.error('NICKNAME HARUS DI ISI !!');
          $("#startSCAN").hide();          

          $('#nickname').text('ISI DULU');
        }

       
       // cekBalanceGATE()
        updateForm()
       // calculatePnl()
        $("#calculateButton").on("click",function(){
            cekBalanceGATE();
            $("#resetmodal").show();
        });

        // Ketika tombol diklik
        $("#resetmodal").on("click", function() {
            // Simpan nilai dari elemen span ke dalam localStorage
            localStorage.setItem("SGX_modalAwal",$("#LtotalUSDT").text().trim());
            // Tambahan kode lainnya sesuai kebutuhan
            toastr.success('RESET BERHASIL!!');
            cekBalanceGATE();
           // $("#resetmodal").prop('disabled', true);
            location.reload();
        });


     // Menampilkan modal settingan
     $("#open-modal").on("click", function() {
        UIkit.modal("#my-modal").show();
     });

     $("#open-modal2").on("click", function() {
        UIkit.modal("#my-modal2").show();
     });

     function setBeforeStart(){
          localStorage.setItem('SGX_KiriGATESinyal',0);
          localStorage.setItem('SGX_KananGATESinyal',0);

          $("#lKiriGATESinyal").text("");
          $("#lKananGATESinyal").text("");

          localStorage.setItem('SGX_KiriMEXCSinyal',0);
          localStorage.setItem('SGX_KananMEXCSinyal',0);

          $("#lKiriMEXCSinyal").text("");
          $("#lKananMEXCSinyal").text("");

          cekBalanceGATE();
          $("#calculateButton").prop('disabled', true);
          $("#resetmodal").hide();
          
          $('input[type="checkbox"]').prop('disabled', true);
          $('input[type="number"]').prop('disabled', true);
          $('input[type="text"]').prop('disabled', true);
          $("#startSCAN").hide();

          sendStatusTELE(user,'ONLINE');

        var startTime = new Date().getTime();
        localStorage.setItem('SGX_startTime',startTime);

        if (modalKiri && modalKanan && jedaTime && scAddressPair && desPair && symboPair && pnl) {
            
            //RUNNING SCAN 
            if ($('#GATE').is(':checked')) { 
                $('#TabelGate').empty();
                cekTokenGATE(modalKiri,modalKanan,jedaTime,scAddressPair,desPair);
            }

            if ($('#MEXC').is(':checked')) {     
                $('#TabelMEXC').empty();
                cekTokenMEXC(modalKiri,modalKanan,jedaTime,scAddressPair,desPair);
            }    

        } else {
            // Jika data tidak lengkap, tampilkan pesan peringatan atau lakukan tindakan lainnya
            alert("DATA SETINGAN SCANNER TIDAK LENGKAP");
        }
     }
     // menjalankan scanning
     $("#startSCAN").on("click", function() {
          setBeforeStart();        
     });
     
        // Mendapatkan nilai dari input modal
    $("#save-button").on("click", function() {
            var modalKiri = $("#modal-kiri").val();
            var modalKanan = $("#modal-kanan").val();
            var jedaTime = $("#jeda-time").val();
            var scAddressPair = $("#sc-addresspair").val();
            var desPair = $("#des-pair").val();
            var symboPair = $("#symbo-pair").val();
            var pnl = $("#pnl").val();
            var user = $("#user").val();

            // Validasi input (Anda dapat menyesuaikan sesuai kebutuhan)
            if (modalKiri && modalKanan && jedaTime && scAddressPair && desPair && symboPair && pnl && user) {
                // Menyimpan data ke local storage
                localStorage.setItem("SGX_modalKiri", modalKiri);
                localStorage.setItem("SGX_modalKanan", modalKanan);
                localStorage.setItem("SGX_jedaTime", jedaTime); 
                localStorage.setItem("SGX_pnl", pnl);

                localStorage.setItem("SGX_scAddressPair", scAddressPair);
                localStorage.setItem("SGX_desPair", desPair);
                localStorage.setItem("SGX_symboPair", symboPair);               
                localStorage.setItem("SGX_user", user);

                // Menutup modal setelah menyimpan data
                UIkit.modal("#my-modal").hide();
                toastr.success('SETTING BERHASIL!!');

                location.reload();

                updateForm();           
            } else {
                alert("Semua input harus diisi!");
            }
        });

        // Mendapatkan nilai dari input modal
        $("#saveModal").on("click", function() {
            var apiGate = $("#apiGate").val();
            var secretGate = $("#secretGate").val();
            var walletSOL = $("#walletSOL").val();
            var modalAwal = $("#modalAwal").val();
            var modalSol = $("#modalSol").val();

            // Validasi input (Anda dapat menyesuaikan sesuai kebutuhan)
            if (apiGate && secretGate && walletSOL && modalAwal && modalSol) {
                // Menyimpan data ke local storage
                localStorage.setItem("SGX_apiGate", apiGate);
                localStorage.setItem("SGX_secretGate", secretGate);
                localStorage.setItem("SGX_walletSOL", walletSOL);
                localStorage.setItem("SGX_modalAwal", modalAwal);
                localStorage.setItem("SGX_modalSol", modalSol);

                // Menutup modal setelah menyimpan data
                UIkit.modal("#my-modal2").hide();
                toastr.success('SETTING BERHASIL!!');

                location.reload();

                updateForm();           
            } else {
                alert("Semua input harus diisi!");
            }
        });

        function updateForm() {           
            $('#mkiri').val(localStorage.getItem("SGX_modalKiri"));
            $('#mkanan').val(localStorage.getItem("SGX_modalKanan"));
            $('#mjeda').val(localStorage.getItem("SGX_jedaTime"));
            $('#mpnl').val(localStorage.getItem("SGX_pnl"));
            $('#modalAwal').val(localStorage.getItem("SGX_modalAwal"));
            $('#modalSol').val(localStorage.getItem("SGX_modalSol"));


            $('#LmodalAwal').text(localStorage.getItem("SGX_modalAwal"));
            $('#LmodalSol').text(localStorage.getItem("SGX_modalSol"));

            $('#LpnlBefore').text(localStorage.getItem("SGX_LpnlBefore"));

            var usdtcex = parseFloat($("#LCEXUSDT").text()) || 0;
            var usdtdex = parseFloat($("#LDEXUSDT").text()) || 0;
            var modalAwalInput = parseFloat($("#LmodalAwal").text()) || 0;

            // Hitung total dan pnl
            var totalusdt = usdtcex + usdtdex;
            var pnl = totalusdt - modalAwalInput;

            // Tampilkan hasilnya di dalam elemen dengan ID totalusdt dan pnl
            $("#LtotalUSDT").text(totalusdt.toFixed(2));
            $("#Lpnl").text(pnl.toFixed(2));

            console.log("MODAL : "+modalAwalInput);
            console.log("USDT CEX : "+usdtcex);
            console.log("USDT CEX : "+usdtdex);
            console.log("TOTAL : "+totalusdt);
            console.log("PNL : "+pnl);

        }

    // Array of coins
    var coins_gate = [
  {
    "symbol": "AART_USDT",
    "sc": "F3nefJBcejYbtdREjui1T9DPh5dBgpkKq7u2GAAMXs5B",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "ACS_USDT",
    "sc": "5MAYDfq5yxtudAhtfyuMBuHZjgAbaS9tbEyEQYAhDS5y",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "AMU_USDT",
    "sc": "AMUwxPsqWSd1fbCGzWsrRKDcNoduuWMkdR38qPdit8G8",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "ANDY_USDT",
    "sc": "667w6y7eH5tQucYQXfJ2KmiuGBE8HfYnqqbjLNSw7yww",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "ATLAS_USDT",
    "sc": "ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx",
    "desimal": 8,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "ATLASDEX_USDT",
    "sc": "HJbNXx2YMRxgfUJ6K4qeWtjatMK5KYQT1QnsCdDWywNv",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "ATR_USDT",
    "sc": "ATRLuHph8dxnPny4WSNW7fxkhbeivBrtWbY6BfB4xpLj",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "BENDOG_USDT",
    "sc": "AHW5N8iqZobTcBepkSJzZ61XtAuSzBDcpxtrLG6KUKPk",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "BLOCKASSET_USDT",
    "sc": "NFTUkR4u7wKxy9QLaX2TGvd9oZSWoMo4jqSJqdMb7Nk",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "BLT_USDT",
    "sc": "BLT1noyNr3GttckEVrtcfC6oyK6yV1DpPgSyXbncMwef",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "BOME_USDT",
    "sc": "ukHH6c7mMyiWCf1b9pnWe25TSpkDDt3H5pQZgZ74J82",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "BONK_USDT",
    "sc": "DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263",
    "desimal": 5,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "BRAWL_USDT",
    "sc": "5mdBkZ4dTP94SE7PyiuWseTDAd1kYxSk6oYaWB7186s7",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "CHAT_USDT",
    "sc": "947tEoG318GUmyjVYhraNRvWpMX7fpBTDQFBoJvSkSG3",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "CHATAI_USDT",
    "sc": "DpfVseMtcwUMuMaNUgVoshxQ7Uo4Brtna3k5NaN44U1g",
    "desimal": 8,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "CORGIAI_USDT",
    "sc": "79F32BvHBE49gPsvypYTGzcpWGvt66mgvenQow3mJjXu",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "CRP_USDT",
    "sc": "DubwWZNWiNGMMeeQHPnMATNj77YZPZSAz2WVR5WjLJqz",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "CSTR_USDT",
    "sc": "G7uYedVqFy97mzjygebnmmaMUVxWHFhNZotY6Zzsprvf",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "CWAR_USDT",
    "sc": "HfYFjMKNZygfMC8LsQ8LtpPsPxEJoXJx4M6tqi75Hajo",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "CYS_USDT",
    "sc": "BRLsMczKuaR5w9vSubF4j8HwEGGprVAyyVgS4EX7DKEg",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "DEFILAND_USDT",
    "sc": "DFL1zNkaGPWm1BqAVqRjCZvHmwTFrEaJtbzJWgseoNJh",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "DELFI_USDT",
    "sc": "de1QJkP1qDCk5JYCCXCeq27bQQUdCaiv7xVKFrhPSzF",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "DIO_USDT",
    "sc": "BiDB55p4G3n1fGhwKFpxsokBMqgctL4qnZpDH1bVQxMD",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "DMR_USDT",
    "sc": "4n7AbgC6WWBMBqLa92vC3FmFQti6am17KS9jHEKgirPF",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "DOGGO_USDT",
    "sc": "Doggoyb1uHFJGFdHhJf8FKEBUMv58qo98CisWgeD7Ftk",
    "desimal": 5,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "DOPE_USDT",
    "sc": "8Kqmghm1mkXbKYqt2wGnHxwnRdEjD9nayNKD3EanWkcD",
    "desimal": 8,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "DUKO_USDT",
    "sc": "HLptm5e6rTgh4EKgDpYFrnRHbjpkMyVdEeREEa2G7rf9",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "DUST_USDT",
    "sc": "DUSTawucrTsGU8hcqRdHDCbuYhCPADMLM2VcCb8VnFnQ",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "ELU_USDT",
    "sc": "4tJZhSdGePuMEfZQ3h5LaHjTPsw1iWTRFTojnZcwsAU6",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "FCON_USDT",
    "sc": "HovGjrBGTfna4dvg6exkMxXuexB3tUfEZKcut8AWowXj",
    "desimal": 4,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "FIDA_USDT",
    "sc": "EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "GARI_USDT",
    "sc": "CKaKtYvz6dKPyMvYq9Rh3UBrnNqYZAyd7iF4hJtjUvks",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "GMT_USDT",
    "sc": "7i5KKsX2weiTkry7jA4ZwSuXGhs5eJBEjY8vVxR4pfRx",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "GOFX_USDT",
    "sc": "GFX1ZjR2P15tmrSwow6FjyDYcEkoFb4p4gJCpLBjaxHD",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "GPT_USDT",
    "sc": "kzyC6U8E8uWwuKHHLkFE5kGiG7qwupKtX31cQo9Y5nv",
    "desimal": 8,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "HADES_USDT",
    "sc": "BWXrrYFhT7bMHmNBFoQFWdsSgA3yXoAnMhDK6Fn1eSEn",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "HER_USDT",
    "sc": "5WieRrJ5oFthgxaH4nCEkwJiBTxuRpEn9qmFRkVzkc98",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "HNT_USDT",
    "sc": "hntyVP6YFm1Hg25TN9WGLqM12b8TQmcknKrdu1oxWux",
    "desimal": 8,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "HXD_USDT",
    "sc": "3dgCCb15HMQSA4Pn3Tfii5vRk7aRqTH95LJjxzsG2Mug",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "IQ50_USDT",
    "sc": "21rweMLGYeMNonHW7H3xa5py17X6ZFRcHirCp9inRBQA",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "JTO_USDT",
    "sc": "jtojtomepa8beP8AuQc6eXt5FriJwfFMwQx2v2f9mCL",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "JUP_USDT",
    "sc": "JUPyiwrYJFskUPiHa7hkeR8VUtAeFoSYbKedZNsDvCN",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "KIN_USDT",
    "sc": "kinXdEcpDQeHPEuQnqmUgtYykqKGVFq6CeVX5iAHJq6",
    "desimal": 5,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "KZEN_USDT",
    "sc": "kZEn3aDxEzcFADPe2VQ6WcJRbS1hVGjUcgCw4HiuYSU",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "LADYF_USDT",
    "sc": "3X8GcLiH2HttjyqePg7MazpMbwbgq5URUMTyDz5tkmdE",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "LARIX_USDT",
    "sc": "Lrxqnh6ZHKbGy3dcrCED43nsoLkM1LTzU2jRfWe8qUC",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "LIKE_USDT",
    "sc": "3bRTivrVsitbmCTGtqwp7hxXPsybkjn4XLNtPsHqa3zR",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "LIQ_USDT",
    "sc": "4wjPQJ6PrkC4dHhYghwJzGBVP78DkBzA2U3kHoFNBuhj",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "MAPS_USDT",
    "sc": "MAPS41MDahZ9QdKXhVa4dWB9RuyfV4XqhyAZ8XcYepb",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "MBS_USDT",
    "sc": "Fm9rHUTF5v3hwMLbStjZXqNBBoZyGriQaFM6sTFz3K8A",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "MDF_USDT",
    "sc": "ALQ9KMWjFmxVbew3vMkJj3ypbAKuorSgGst6svCHEe2z",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "MEAN_USDT",
    "sc": "MEANeD3XDdUmNMsRGjASkSWdC8prLYsoRJ61pPeHctD",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "MEW_USDT",
    "sc": "MEW1gQWJ3nEXg2qgERiKu7FAFj79PHvQVREQUzScPP5",
    "desimal": 5,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "MNDE_USDT",
    "sc": "MNDEFzGvMt87ueuHvVU9VcTqsAP5b3fTGPsHuuPA5ey",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "MNGO_USDT",
    "sc": "MangoCzJ36AjZyKwVj3VnYU4GTonjfVEnJmvvWaxLac",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "MOBILE_USDT",
    "sc": "mb1eu7TzEc71KxDpsmsKoucSSuuoGLv1drys1oP2jh6",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "MPLX_USDT",
    "sc": "METAewgxyPbgwsseH8T16a39CQ5VyVxZi9zXiDPY18m",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "MSOL_USDT",
    "sc": "mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "MYRO_USDT",
    "sc": "HhJpBhRRn4g56VsyLuT8DL5Bv31HkXqsrahTTUCZeZg4",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "NEON_USDT",
    "sc": "NeonTjSjsuo3rexg9o6vHuMXw62f9V7zvmu8M8Zut44",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "NEVER_USDT",
    "sc": "CxrhHSqyW8YTDWc4csJMMgo7uBUJSXzNzrWhtw9ULdru",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "NOS_USDT",
    "sc": "nosXBVoaCTtYdLvKY6Csb4AC8JCdQKKAaWYtx2ZMoo7",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "NUB_USDT",
    "sc": "GtDZKAqvMZMnti46ZewMiXCa4oXF4bZxwQPoKzXPFxZn",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "ORCA_USDT",
    "sc": "orcaEKTdK7LKz57vaAYr9QeNsVEPfiu6QeMU1kektZE",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "OXY_USDT",
    "sc": "z3dn17yLaGMKffVogeFHQ9zWVcXgqgf3PQnDsNs2g6M",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "PENG_USDT",
    "sc": "A3eME5CetyZPBoWbRUwY3tSe25S6tb18ba9ZPbWk9eFJ",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "PIP_USDT",
    "sc": "HHjoYwUp5aU6pnrvN4s2pwEErwXNZKhxKGYjRJMoBjLw",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "POLIS_USDT",
    "sc": "poLisWXnNRwC6oBu1vHiuKQzFjGL4XDSu4g9qjz9qVk",
    "desimal": 8,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "PONKE_USDT",
    "sc": "5z3EqYQo9HiCEs3R84RCDMu2n7anpDMxRhdK8PSWmrRC",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "POPCAT_USDT",
    "sc": "7GCihgDB8fe6KNjn2MYtkzZcRjQy3t9GHdC8uHYmW2hr",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "PORT_USDT",
    "sc": "PoRTjZMPXb9T7dyU7tpLEZRQj7e6ssfAE62j2oQuc6y",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "PRISM_USDT",
    "sc": "PRSMNsEPqhGVCH1TtWiJqPjJyh2cKrLostPZTNy1o5x",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "PRT_USDT",
    "sc": "PRT88RkA4Kg5z7pKnezeNH4mafTvtQdfFgpQTGRjz44",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "PSY_USDT",
    "sc": "PsyFiqqjiv41G7o5SMRzDJCu4psptThNR2GtfeGHfSq",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "PUNDU_USDT",
    "sc": "WskzsKqEW3ZsmrhPAevfVZb6PuuLzWov9mJWZsfDePC",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "PUNKAI_USDT",
    "sc": "12UP9cSwe1tDzQg3KSEx1BpSS9nkpT5VkmDe4fSz4Hso",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "PYTH_USDT",
    "sc": "HZ1JovNiVvGrGNiiYvEozEVgZ58xaU3RKwX8eACQBCt3",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "RATIO_USDT",
    "sc": "ratioMVg27rSZbSvBopUvsdrGUzeALUfFma61mpxc8J",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "RAY_USDT",
    "sc": "4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "RIN_USDT",
    "sc": "E5ndSkaB17Dm7CsD22dvcjfrYSDLCxFcMd6z8ddCk5wp",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "ROA_USDT",
    "sc": "5tB5D6DGJMxxHYmNkfJNG237x6pZGEwTzGpUUh62yQJ7",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SAMO_USDT",
    "sc": "7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SAO_USDT",
    "sc": "2HeykdKjzHKGm2LKHw8pDYwjKPiFEoXAz74dirhUgQvq",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SAROS_USDT",
    "sc": "SarosY6Vscao718M4A778z4CGtvcwcGef5M9MEH1LGL",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SBR_USDT",
    "sc": "Saber2gLauYim4Mvftnrasomsv6NvAuncvMEZwcLpD1",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SCNSOL_USDT",
    "sc": "5oVNBeEEQvYi1cX3ir8Dx5n1P7pdxydbGF2X4TxVusJm",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SCY_USDT",
    "sc": "SCYfrGCw8aDiqdgcpdGjV6jp4UVVQLuphxTDLNWu36f",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SHDW_USDT",
    "sc": "SHDWyBxihqiCj6YekG2GUr7wqKLeLAMK1gHZck9pL6y",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SHILL_USDT",
    "sc": "6cVgJUqo4nmvQpbgrDZwyfd6RwWw5bfnCamS3M9N1fd",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SLC_USDT",
    "sc": "METAmTMXwdb8gYzyCPfXXFmZZw4rUsXX58PNsDg7zjL",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SLERF_USDT",
    "sc": "7BgBvyjrZX1YKz4oh9mjb8ZScatkkwb8DzFx7LoiVkM3",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SLIM_USDT",
    "sc": "xxxxa1sKNGwFtw2kFn8XauW9xq8hBZ5kVtcSesTT9fW",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SLND_USDT",
    "sc": "SLNDpmoWTVADgEdndyvWzroNL7zSi1dF9PC3xHGtPwp",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SLRS_USDT",
    "sc": "SLRSSpSLUTP7okbCUBYStWCo1vUgyt775faPqz8HUMr",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SMOLE_USDT",
    "sc": "9Ttyez3xiruyj6cqaR495hbBkJU6SUWdV6AmQ9MvbyyS",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SNAP_USDT",
    "sc": "4G86CMxGsMdLETrYnavMFKPhQzKTvDBYGMRAdVtr72nu",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SNTR_USDT",
    "sc": "SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SNY_USDT",
    "sc": "4dmKkXNHdgYsXqBHCuMikNQWwVomZURhYvkkX5c4pQ7y",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SOLR_USDT",
    "sc": "7j7H7sgsnNDeCngAPjpaCN4aaaru4HS7NAFYSEUyzJ3k",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SOLS_USDT",
    "sc": "2wme8EVkw8qsfSk2B3QeX4S64ac6wxHPXb3GrdckEkio",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SONAR_USDT",
    "sc": "sonarX4VtVkQemriJeLm6CKeW3GDMyiBnnAEMw1MRAE",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SRM_USDT",
    "sc": "SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SS20_USDT",
    "sc": "6YsbefsCddFqUGyMxd788LQHbCGsGgmzjr5cowpYqRhk",
    "desimal": 8,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "STEP_USDT",
    "sc": "StepAscQoEioFxxWGnh2sLBDFp9d8rvKz2Yp39iDpyT",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "STIK_USDT",
    "sc": "8BMzMi2XxZn9afRaMx5Z6fauk9foHXqV5cLTCYWRcVje",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "STSOL_USDT",
    "sc": "7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "SUNNY_USDT",
    "sc": "SUNNYWgPQmFxe9wTZzNK7iPnJ3vYDrkgnxJRJm1s3ag",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "TAKI_USDT",
    "sc": "Taki7fi3Zicv7Du1xNAWLaf6mRK7ikdn77HeGzgwvo4",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "TNSR_USDT",
    "sc": "TNSRxcUxoT9xBG3de7PiJyTDYu7kskLqcpddxnEJAS6",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "TTT_USDT",
    "sc": "FNFKRV3V8DtA3gVJN6UshMiLGYA8izxFwkNWmJbFjmRj",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "TULIP_USDT",
    "sc": "TuLipcqtGVXP9XR62wM8WWCm6a9vhLs7T1uoWBk6FDs",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "UNQ_USDT",
    "sc": "UNQtEecZ5Zb4gSSVHCAWUQEoNnSVEbWiKCi1v9kdUJJ",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "W_USDT",
    "sc": "85VBFQZC9TZkfaptBWjvUw7YbZjy52A6mjtPGjstQAmQ",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "WAG_USDT",
    "sc": "5tN42n9vMi6ubp67Uy4NnmM5DMZYN8aS8GeB3bEDHr6E",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "WEN_USDT",
    "sc": "WENWENvqqNya429ubCdR81ZmD69brwQaaBYY6p3LCpk",
    "desimal": 5,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "WIF_USDT",
    "sc": "EKpQGSJtjMFqKZ9KQanSqYXRcF8fBopzLHYxdM65zcjm",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "WLKN_USDT",
    "sc": "EcQCUYv57C4V6RoPxkVUiDwtX1SP8y8FP5AEToYL8Az",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "WNZ_USDT",
    "sc": "WNZzxM1WqWFH8DpDZSqr6EoHKWXeMx9NLLd2R5RzGPA",
    "desimal": 4,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "XTAG_USDT",
    "sc": "5gs8nf4wojB5EXgDUWNLwXpknzgV2YWDhveAeBZpVLbp",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "YOURAI_USDT",
    "sc": "FjK6rqU6QzUeNtmK6QQ78cCuS5AHAhcm4HgJkdsvXaep",
    "desimal": 8,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "ZEEP_USDT",
    "sc": "FHAeF63cELMnm9HAHPLEWJGrGpBEYkdcvN3cLQGTCA6j",
    "desimal": 6,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "ZERO_USDT",
    "sc": "93RC484oMK5T9H89rzT5qiAXKHGP9jscXfFfrihNbe57",
    "desimal": 9,
    "status": true,
    "wd": 0
  },
  {
    "symbol": "ZEUS_USDT",
    "sc": "ZEUS1aR7aX8DFFJf5QjWj2ftDDdNTroMNGo8YoQm3Gq",
    "desimal": 6,
    "status": true,
    "wd": 0
  }
]
        
        function ubahSimbol(simbol) {
                if (simbol.endsWith("USDT")) {
                    var pasanganPerdagangan = simbol.replace("USDT", "");
                    return pasanganPerdagangan;
                }
                return simbol;
        }
    
        function SymbolHapusPair(simbol) {
                if (simbol.endsWith("USDT")) {
                    var pasanganPerdagangan = simbol.replace("_USDT", "");
                    return pasanganPerdagangan;
                }
                return simbol;
        }

        function SymbolGarisPair(simbol) {
                if (simbol.endsWith("USDT")) {
                    var pasanganPerdagangan = simbol.replace("USDT", "_USDT");
                    return pasanganPerdagangan;
                }
                return simbol;
        }

        function SymbolHapusPair2(simbol) {
                if (simbol.endsWith("USDT")) {
                    var pasanganPerdagangan = simbol.replace("-USDT", "");
                    return pasanganPerdagangan;
                }
                return simbol;
        }

        // fungsi cek price pair
        function cekPricePAIRDEX(){
          var pair = localStorage.getItem("SGX_symboPair");
          var sc = localStorage.getItem("SGX_scAddressPair");
          var des = localStorage.getItem("SGX_desPair");     
          $("label#LRate").text(pair);

                if(pair=="USDT"){
                    localStorage.setItem('SGX_PriceRate', 1);
                    $("label#LPriceRate").text(" 1$");
                }else if(pair=="DAI"){
                    localStorage.setItem('SGX_PriceRate', 1);
                    $("label#LPriceRate").text(" 1$");
                }else if(pair=="USDC"){
                    localStorage.setItem('SGX_PriceRate', 1);
                    $("label#LPriceRate").text(" 1$");
                }else{
                    $.ajax({
                    url: 'https://api.gateio.ws/api/v4/spot/order_book?limit=1',
                    data: {
                        currency_pair: pair+"_USDT"
                    },
                    success : function(response) {
                        var PriceRate = parseFloat(response.asks[0]).toFixed(7);
                       // localStorage.setItem('SGX_RatePair',pair+"_USDT");
                        localStorage.setItem('SGX_PriceRate', PriceRate);
                       // console.log('Latest Rate Price:', PriceRate);
                        
                        $("label#LPriceRate").text("! " + PriceRate + "$");
                       // console.log('Get Price Rate Pair:',PriceRate);
                    },

                    error: function(xhr, status, error) {
                    console.log('Error get Price Rate Pair:', error);
                    }
                });
            }
        }

    function cekHargaJupiter(sc_input, des_input, sc_output, des_output, amount, price, posisi, symbol, market) {
        var modal_kiri = parseFloat(localStorage.getItem("SGX_modalKiri"));
        var modal_kanan = parseFloat(localStorage.getItem("SGX_modalKanan"));
        var KiriMarketSinyal = parseInt(localStorage.getItem('SGX_Kiri' + market + 'Sinyal'));
        var KananMarketSinyal = parseInt(localStorage.getItem('SGX_Kanan' + market + 'Sinyal'));

        var opit = localStorage.getItem("SGX_pnl");
        var user = localStorage.getItem("SGX_user");
        
        var amount_in =parseInt(Math.pow(10, des_input) * amount);

        //var apiUrl = randomServerUrl + "https://quote-api.jup.ag/v6/quote";
        var apiUrl = "https://quote-api.jup.ag/v6/quote";
        
        var url = apiUrl + "?inputMint=" + sc_input + "&outputMint=" + sc_output + "&amount=" + amount_in;

       // setTimeout(function () {
            $.ajax({
            url: url,
            method: "GET",
            success: function(response) {                 
               var PriceRate = localStorage.getItem('SGX_PriceRate');
               var amount_out = parseFloat(response.outAmount)/Math.pow(10, des_output);

                if(posisi=="sell"){
                    var amount_out = parseFloat(amount_out*PriceRate);
                    var PNL=parseFloat(amount_out-modal_kiri).toFixed(2) ;
                    var priceDEX=(amount_out/(modal_kiri/price)).toFixed(11); 
                    var selisihPersen = ((priceDEX - price) / price) * 100;
                    var eFEE = (modal_kiri*0.0015)+0.65;

                    console.log("--- " + market + "-KIRI: "+ symbol +" ---  ");
                    console.log(" MODAL : " + localStorage.getItem("SGX_modalKiri"));
                    console.log(" FILTER PNL : " + opit);
                    console.log(" BUY CEX : " + price);
                    console.log(" SELL DEX : " + priceDEX);
                    console.log(" PNL : " + PNL);
                    console.log(" Estimasi FEE : " + eFEE);
                    console.log(" PERSEN : " + selisihPersen);

                    if(PNL>opit){
                        var message = 
                            "#SBOT_<b>" + localStorage.getItem('SGX_user') + " : " + market + "</b>" +
                            " \n -----------------------------------------" +
                            " \n KIRI : <b>#" + SymbolHapusPair(symbol) + "</b> <a href='https://solscan.io/token/" + sc_input + "'>[ SC ]</a>" +
                            "  <a href='https://solscan.io/account/u6PJ8DtQuPFnfmwHbGFULQ4u4EgjDiyYKjVEsynXq2w' target='_blank'>[ STOK ]</a>" +
                            " \n MODAL : <b>" + localStorage.getItem("SGX_modalKiri") + "</b> | PNL : <b>" + PNL + "$ </b> " +
                           // " \n <b>BUY : </b><a href='https://www.gate.io/trade/" + symbol + "?from=markets%26theme=light%26type=spot' target='_blank'>" + price + "</a>" +
                          //  " \n <b>SELL : </b> <a href='https://jup.ag/swap/" + sc_input + "-" + sc_output + "' target='_blank'>" + priceDEX + "</a>" +
                            " \n ESTIMASI FEE : <b>" + eFEE.toFixed(2) + "$</b>"+
                            " \n --------------------------------------------------"; 
                        //MultisendMessage(message);

                        var jKiriMarketSinyal = KiriMarketSinyal + 1;
                        localStorage.setItem("SGX_Kiri" + market + "Sinyal", jKiriMarketSinyal);
                        $("#lKiri" + market + "Sinyal").text(localStorage.getItem('SGX_Kiri' + market + 'Sinyal'));
                    }

                }

                if(posisi=="buy"){
                    var priceDEX=parseFloat((modal_kanan/PriceRate)/(amount_out/PriceRate)).toFixed(11); 
                    var PNL =parseFloat(((modal_kanan/priceDEX)*price)-modal_kanan).toFixed(2);
                    var selisihPersen = ((price - priceDEX) / priceDEX) * 100;
                    var eFEE = (modal_kiri*0.0015)+0.15;

                    console.log("--- " + market + "-KANAN : "+ symbol +" ---  ");
                    console.log(" MODAL : " + localStorage.getItem("SGX_modalKanan"));
                    console.log(" FILTER PNL : " + opit);
                    console.log(" BUY DEX : " + priceDEX);
                    console.log(" SELL CEX : " + price);
                    console.log(" PNL : " + PNL);
                    console.log(" Estimasi FEE : " + eFEE);
                    console.log(" PERSEN : " + selisihPersen);

                    if(PNL>opit){
                      var message = 
                          "<b>#SBOT_" + localStorage.getItem('SGX_user') + " : " + market + "</b>" +
                          " \n --------------------------------------------------" +
                          " \n KANAN : <b>#" + SymbolHapusPair(symbol) + "</b> <a href='https://solscan.io/token/" + sc_input + "'> [ SC ] </a>" +
                          "  <a href='https://solscan.io/account/u6PJ8DtQuPFnfmwHbGFULQ4u4EgjDiyYKjVEsynXq2w' target='_blank'>[ STOK ]</a>" +
                          " \n MODAL : <b> " + localStorage.getItem("SGX_modalKanan") + "</b> | PNL : <b>" + PNL + "$ </b> " +
                         // " \n <b>BUY : </b> <a href='https://jup.ag/swap/" + sc_input + "-" + sc_output + "' target='_blank'>" + priceDEX + "</a>" +
                         // " \n <b>SELL : </b> <a href='https://www.gate.io/trade/" + symbol + "?from=markets%26theme=light%26type=spot' target='_blank'>" + price + "</a>" +
                          " \n ESTIMASI FEE : <b>" + eFEE.toFixed(2) + "$</b>"+
                          " \n --------------------------------------------------";
                      //MultisendMessage(message);

                        var jKananMarketSinyal = KananMarketSinyal + 1;
                        localStorage.setItem("SGX_Kanan" + market + "Sinyal", jKananMarketSinyal);
                        $("#lKanan" + market + "Sinyal").text(localStorage.getItem('SGX_Kanan' + market + 'Sinyal'));
                    }                    
                }
                
               //var pnlNetto = PNL;

                if(PNL>opit){
                    var warna="ijo";
                    var PNL="<span class='uk-label uk-label-success'>"+PNL+"</span>";
                }else if(PNL>eFEE && PNL<opit){
                    var warna="orange";
                    var PNL="<span class='uk-label uk-label-secondary'>"+PNL+"</span>";  
                }else{
                    var warna="merah";
                    var PNL="<span class='uk-label uk-label-danger'>"+PNL+"</span>";                    
                }
                
                var currentRow = $("#dex_"+posisi+"_"+symbol).html("<a href=https://www.guacamole.gg/trade/swap?inputMint="+sc_input+"&outputMint="+sc_output+" target=_blank>#</a>  <a href=https://jup.ag/swap/"+sc_input+"-"+sc_output+" target=_blank>"+priceDEX+"</a><br/>("+PNL+"$:"+selisihPersen.toFixed(2)+"%)").addClass(warna);
                currentRow.append();
             
            },
            error: function (xhr, status, error) {
                    if (xhr.status === 429) {
                        var errorMessage = "Error: " + xhr.status + " - " + error + "\n" +
                            "Message: " + xhr.responseJSON.message;
                            var alert="KENA LIMIT";
                        console.log(errorMessage);
                    } else {
                        var alert=xhr.status;
//                        var alert="LIMITED";
                        console.log("Error: " + xhr.status + " - " + error);
                    }

                    var currentRow= $("#dex_"+posisi+"_"+symbol).html("ERROR : "+alert).addClass("error");
                    currentRow.append();
                }
            });
         // }, a*jedaTime);
    }

    function WalletGate(currency) {
            $.get('https://api.gateio.ws/api/v4/wallet/currency_chains?currency=' + currency, function(response) {
                // Cari chain ETH dalam respons
                var ethChain = response.find(function(chain) {
                    return chain.chain === 'SOL';
                });

                // Jika chain ETH ditemukan
                if (ethChain) {
                    // Tentukan status deposit dan withdraw
                    var depositStatus = ethChain.is_deposit_disabled ? "Tidak aktif" : "Aktif";
                    var withdrawStatus = ethChain.is_withdraw_disabled ? "Tidak aktif" : "Aktif";
                    
                    // Tentukan warna dan tulisan untuk deposit dan withdraw
                    var dpColor = (depositStatus === "Aktif") ? "success" : "danger";
                    var dpText = (depositStatus === "Aktif") ? "[DP]" : "DX";
                    var wdColor = (withdrawStatus === "Aktif") ? "success" : "danger";
                    var wdText = (withdrawStatus === "Aktif") ? "[WD]" : "WX";

                    // Tampilkan label deposit dan withdraw dengan warna yang sesuai
                    var dpLabel = '<span class="uk-text-' + dpColor + '">' + dpText + '</span>';
                    var wdLabel = '<span class="uk-text-' + wdColor + '">' + wdText + '</span>';
                    $("#wallet_"+currency).html(wdLabel + " - " + dpLabel);
                } else {
                    console.log("Chain ETH tidak ditemukan dalam respons.");
                }

            }).fail(function(xhr, status, error) {
                console.error(status, error);
                // Tangani kesalahan di sini
            });
        }

    function getPriceGate(coins,index,posisi,modal, callback) {
      updateProgress(index, coins.symbol,localStorage.getItem('SGX_TotalCoins'),'GATE');

            $.ajax({
                url: 'https://api.gateio.ws/api/v4/spot/order_book?limit=5&currency_pair=' +coins.symbol+'',
                method: 'GET',
                success: function(data) { 
                    if (data.asks.length === 0 || data.bids.length === 0) {
                        console.warn('Empty asks or bids array. Skipping cekHargaOPEN.');
                        callback(null, null);  
                     }else{

                     var dataOUT = {};
                      dataOUT.price_buy = data.asks[0][0];
                      dataOUT.price_buy1 = data.asks[1][0];
                      dataOUT.price_buy2 = data.asks[2][0];
                      dataOUT.vol_buy = (parseFloat(data.asks[0][1]) * dataOUT.price_buy).toFixed(2);
                      dataOUT.vol_buy1 = (parseFloat(data.asks[1][1]) * dataOUT.price_buy1).toFixed(2);
                      dataOUT.vol_buy2 = (parseFloat(data.asks[2][1]) * dataOUT.price_buy2).toFixed(2);
                      dataOUT.price_sell = data.bids[0][0];
                      dataOUT.price_sell1 = data.bids[1][0];
                      dataOUT.price_sell2 = data.bids[2][0];
                      dataOUT.vol_sell = (parseFloat(data.bids[0][1]) * dataOUT.price_sell).toFixed(2);
                      dataOUT.vol_sell1 = (parseFloat(data.bids[1][1]) * dataOUT.price_sell1).toFixed(2);
                      dataOUT.vol_sell2 = (parseFloat(data.bids[2][1]) * dataOUT.price_sell2).toFixed(2);
                     
                      dataOUT.symbol = SymbolHapusPair(coins.symbol);
                      
                      WalletGate(dataOUT.symbol);

                      if (posisi === "buy") {
                          var a= "<a href=https://www.gate.io/trade/" + coins.symbol + " target=_blank> ~ " + dataOUT.price_buy + " : <b>" + dataOUT.vol_buy + "$</b> </a> <a href=https://www.gate.io/myaccount/withdraw/" + dataOUT.symbol + " target=_blank> <br/>[ Fee : " + parseFloat((0.0012 * modal)+0.5).toFixed(2) + "$ - WD] </a>";
                          $("#cex_buy_" + coins.symbol).html(a).append();  
                          $("#vol_buy_" + coins.symbol).html("~" + dataOUT.price_buy1 + " : <b>" + dataOUT.vol_buy1 + "$</b><br/>~" + dataOUT.price_buy2 + " : <b>" + dataOUT.vol_buy2 + "$</b>").append();                          
                      }
                      if (posisi === "sell") {
                          var b="<a href=https://www.gate.io/trade/" + coins.symbol + " target=_blank> ~ " + dataOUT.price_sell + ": <b>" + dataOUT.vol_sell + "$</b> </a> <a href=https://www.gate.io/myaccount/deposit/" + dataOUT.symbol + " target=_blank>  <br/>[ Fee : " + parseFloat((0.0015 * modal)+0.05).toFixed(2) + "$ - DP] </a>";
                          $("#cex_sell_" + coins.symbol).html(b).append();  
                          $("#vol_sell_" + coins.symbol).html("~" + dataOUT.price_sell1 + " : <b>" + dataOUT.vol_sell1 + "$</b><br/>~" + dataOUT.price_sell2 + " : <b>" + dataOUT.vol_sell2 + "$</b>").append();                          
                      }
                        callback(null, dataOUT);
                    } 
                },
                error: function(error) {
                    callback('Error calling API pertama: ' + error);                   
                }
            });
        }

    function cekTokenGATE(modal_kiri, modal_kanan, jeda , sc_pair, des_pair) {
      var coins_gate_length = coins_gate.length;
      localStorage.setItem("SGX_TotalCoins",coins_gate_length);

      coins_gate.forEach(function (coins,index) {

                var apiUrl = randomServerUrl+"https://api.gateio.ws/api/v4/spot/order_book?limit=5&currency_pair=" + coins.symbol;
               // setTimeout(function () {
                   var jcounter = index+1;
                  // localStorage.setItem("SGX_counter",jcounter);                    
                       
                        var jeda1=jeda*index*0.8;
                        var jeda2=jeda*index*0.9;
                        var symbol = SymbolHapusPair(coins.symbol);                        
                       
                        setTimeout(function () {
                          getPriceGate(coins,jcounter,"buy",modal_kiri, function(error, result) { 
                            var amount_in = modal_kiri / result.price_buy;
                              cekHargaJupiter(coins.sc, coins.desimal,sc_pair, des_pair, amount_in, result.price_buy, "sell", coins.symbol, "GATE",function(error, response) {
                              });
                          });
                        }, jeda1);
                      
                        setTimeout(function () {
                          getPriceGate(coins,jcounter,"sell",modal_kanan, function(error, result) {
                            cekPricePAIRDEX();
                            var modal_in = modal_kanan / parseFloat(localStorage.getItem('SGX_PriceRate'));
                                cekHargaJupiter(sc_pair, des_pair, coins.sc, coins.desimal, modal_in, result.price_sell, "buy", coins.symbol, "GATE",function(error, response) {                          
                              });
                          });
                       }, jeda2);

                       // Append data to the table
                        $("#TabelGate").append(
                            "<tr>" +
                            "<td>" + jcounter + "</td>" +
                            "<td id=vol_buy_" + coins.symbol + "></td>" +
                            "<td id=cex_buy_" + coins.symbol + "></td>" + 
                            "<td id=dex_sell_" + coins.symbol + "></td>" +
                            "<td> <a href=https://solscan.io/token/" + coins.sc + " target=_blank>" + symbol + "</a> <a href=https://solscan.io/account/u6PJ8DtQuPFnfmwHbGFULQ4u4EgjDiyYKjVEsynXq2w target=_blank> [STOK] </a><br/> <span id=wallet_"+symbol+"></td>" +
                            "<td id=dex_buy_" + coins.symbol + "></td>" +
                            "<td id=cex_sell_" + coins.symbol + "></td>" +
                            "<td id=vol_sell_" + coins.symbol + "></td>" +
                            "</tr>"
                        );
                    console.warn("JEDA",index*jeda);
                 //}, index*jeda);
//            }
        });

    }
 

    $("#refresh").click(function () {
          cekBalanceGATE();
          location.reload();
          toastr.success('REFRESH DONE!!');
          //alert("REFRESH AKAN DILAKUKAN...!!");
    });

    function calculatePnl() {
            //LpnlBefore
          //  $('#LpnlBefore').text(localStorage.getItem("SGX_LpnlBefore"));

           // cekBalanceGATE()
            // Ambil nilai modal awal dari input
            var modalAwalInput = parseFloat($("#modalAwal").val()) || 0;

            // Konversi teks menjadi angka
            var usdtcex = parseFloat($("#LCEXUSDT").text()) || 0;
            var usdtdex = parseFloat($("#LDEXUSDT").text()) || 0;

            // Hitung total dan pnl
            var totalusdt = usdtcex + usdtdex;
            var pnl = totalusdt - modalAwalInput;

            // Tampilkan hasilnya di dalam elemen dengan ID totalusdt dan pnl
            $("#LtotalUSDT").text(totalusdt.toFixed(2));
            $("#Lpnl").text(pnl.toFixed(2));

           // location.reload();
           // toastr.success('CEK SALDO...DONE!!');
            localStorage.setItem("SGX_LpnlBefore", pnl.toFixed(2));
           // $("#resetmodal").show();
   }

   function cekBalanceChainSOL(tokenCek,address){             
              var apiUrl = "https://api.solana.fm/v1/addresses/"+address+"/tokens";  
              console.log(apiUrl);
              // Make API call
              $.get(apiUrl, function (data) {
                  var amount = data.tokens[tokenCek].balance;
                  var name = data.tokens[tokenCek].tokenData.tokenList.symbol;
                  $("#LDEXUSDT").text(parseFloat(amount.toFixed(2)));

                  calculatePnl();
                  
                  $("#calculateButton").show();
                //  toastr.success('CEK SALDO...DONE!!');
              }).fail(function () {
                // Handle API call failure
                toastr.error('GAGAL CEK SALDO - WALLET DEX!!');
                console.error("Failed to fetch data from API.");
                // You can show an error message to the user or perform any other action.
            });;
     }

     function cekBalanceGATE(){
        var key = localStorage.getItem('SGX_apiGate');
        var secret = localStorage.getItem('SGX_secretGate');
        if (!key || !secret) {
            toastr.error('GAGAL CEK SALDO - CEK API GATE!!');
//            console.error("API key or secret not found. Please set them in your settings.");
            // You can show an error message to the user or redirect to a settings page.
            return;
        }
        var host = "https://cors.gemul-putra.workers.dev/?https://api.gateio.ws";
        var prefix = "/api/v4";
        var method = "GET";
      //  var url = "/wallet/total_balance";
        var url = "/spot/accounts";
        
        var query_param = "";
        var body_param = '';
        var timestamp = Math.floor(new Date().getTime() / 1000);
        var body_hash = CryptoJS.SHA512(body_param).toString();
        var sign_string = method + '\n' + prefix + url + '\n' + query_param + '\n' + body_hash + '\n' + timestamp;
        var sign = CryptoJS.HmacSHA512(sign_string, secret).toString();
        var full_url = host + prefix + url;

        // Make AJAX request
        $.ajax({
            url: full_url,
            method: method,
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json',
                'Timestamp': timestamp,
                'KEY': key,
                'SIGN': sign
            },
            success: function (response) {
                // Handle the response and update the table
                cekBalanceChainSOL("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",walletSOL);   
               // $('#LCEXUSDT').text(parseFloat(response.details.spot.amount).toFixed(2));

               var usdtInfo = response.find(function(currency) {
                    return currency.currency === "USDT";
                });

                $('#LCEXUSDT').text(parseFloat(usdtInfo.available).toFixed(2));
            },
            error: function (error) {
                console.error(error);
                toastr.error('GAGAL CEK SALDO - API GATE!!');
                // Handle errors here
            }
        });
     }
     
     function MultisendMessage(message) {
                var users = [
                    { chat_id: -1002103736583 }                
                   // { chat_id: SGX_savedData.ID_GRUP}
                ];

                var token = "6554422567:AAHn2KErUWyl_RIDChwv49mfHf9lHf_OTgQ";
                var apiUrl = 'https://api.telegram.org/bot' + token + '/sendMessage';

                // Loop melalui daftar pengguna
                for (var i = 0; i < users.length; i++) {
                var user = users[i];
                var chatId = user.chat_id; // Ganti dengan ID chat pengguna

                // Membuat permintaan POST menggunakan jQuery
                $.ajax({
                    url: apiUrl,
                    method: "POST",
                    data: {
                        chat_id: chatId,
                        text: message,
                        parse_mode: "HTML",
                        disable_web_page_preview: true
                    },
                    success: function(response) {
                        console.log("Message sent successfully");
                    },
                    error: function(xhr, status, error) {
                        console.log("Error sending message:", error);
                    }
                    });
                }
            }

            function sendStatusTELE(user,status){
         //  sendTELEResult("STOP",localStorage.getItem('sx'),localStorage.getItem('skiri'),localStorage.getItem('skanan'));
              var users = [
              { chat_id: -1002103736583},
              // { chat_id: -4074010610 }
              ];
               
            var message = 
             "   #"+user.toUpperCase()+" is <b>[ "+status+" ]</b>";
            //  +
            //  " \n KIRI : <b> " + localStorage.getItem("SGX_modalKiri") + "$ </b> | KANAN : <b>" +  localStorage.getItem("SGX_modalKanan") +  "$ </b> "+
            //  " \n ---------------------------------------------" ;

            var token = "6554422567:AAHn2KErUWyl_RIDChwv49mfHf9lHf_OTgQ";        
            var apiUrl = 'https://api.telegram.org/bot' + token + '/sendMessage';

            // Loop melalui daftar pengguna
            for (var i = 0; i < users.length; i++) {
              var user = users[i];
              var chatId = user.chat_id; // Ganti dengan ID chat pengguna

              // Membuat permintaan POST menggunakan jQuery
              $.ajax({
                  url: apiUrl,
                  method: "POST",
                  data: {
                    chat_id: chatId,
                    text: message,
                    parse_mode: "HTML",
                    disable_web_page_preview: true
                  },
                  success: function(response) {
                    console.log("Message sent successfully");
                  },
                  error: function(xhr, status, error) {
                    console.log("Error sending message:", error);
                  }
                });
            }
        }
        //FUNGSI AUTORUN
        var autorun = false;
        $('input#Cautorun').change(function() {
            if ($(this).is(':checked')) {
                autorun=true;
            } else {
                autorun=false;
            }
        });

        function updateProgress(totalscanned,token,countTrueStatus,market){            
          //  var countTrueStatus = localStorage.getItem("SGX_TotalCoins");

            var mulai = parseInt(localStorage.getItem('SGX_startTime'));
            var endTime = new Date().getTime(); // Waktu akhir setelah panggilan REST API berhasil

            var duration = (endTime - mulai)/1000; // Durasi panggilan API dalam milidetik
            localStorage.setItem("SGX_duration",duration);


            var perulangan = totalscanned / countTrueStatus;
            $('#scanprogress').html('CHECK '+market+' - '+token+' [ '+ totalscanned + ' / ' + countTrueStatus + ' coin] :: DURASI ['+parseFloat(duration/60).toFixed(2)+' Menit]').css("color", "blue");
            $('#bar').css('width', (totalscanned / countTrueStatus * 100) + '%');

            if(totalscanned >= countTrueStatus ){
              if(autorun == true){
                    $('#scanprogress').html('Akan Mengulangi scanning dalam 17 detik.');
                    
                    setTimeout(function(){ 
                       // $('tbody tr').remove();                        
                         setBeforeStart();                        
                         sendStatusTELE(user,'ONLINE');
                    }, 17000);
                }else{
                    $('#scanprogress').html('SCANNING SELESAI!! DURASI ['+parseFloat(duration/60).toFixed(2)+' Menit]');
                    $("#startSCAN").show();
                    $("#calculateButton").prop('disabled', false);
                }
                
               
            }

            
        }
});

</script>

</body>
</html>
